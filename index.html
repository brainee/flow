<!DOCTYPE html>
<html>
<head>
</head>
<body>
    <canvas id="canvas" width="600" height="500" style="border:1px red solid;"></canvas>

    <script src="lib/fabric.js"></script>
    <script src="lib/jquery-1.3.2.js"></script>
    <script src="lib/site.js"></script>
    <script src="lib/page.js"></script>
    <script>
        // var canvas = new fabric.StaticCanvas('canvas');
        var canvas = new fabric.Canvas('canvas');

        var oCfgs={};
        // oCfgs.rect={
        //     top : 100,
        //     left : 100,
        //     width : 50,
        //     height : 50,
        //     fill : 'red',
        //     angle: 0
        // };
        // var rect = new fabric.Rect(oCfgs.rect);  
        // oCfgs.line='M 0 0 L 200 100 L 170 200 z';
        // canvas.renderAll();
        oCfgs.line='M {0} {1} L {2} {3}';
        //var arrow=new fabric.Text("→",{fontSize: 60,fontWeight: 'bold',stroke: '#c3bfbf',strokeWidth: 3,top:85,left:145});
        var rect=makeRect(100,100);
        // var arrow=new fabric.Text("→",{fontSize: 60,fontWeight: 'bold',stroke: '#c3bfbf',strokeWidth: 3,top:85,left:145});   
        // var group = new fabric.Group([ rect, arrow ], {
        //   left: 200,
        //   top: 100
        // }); 
        // canvas.add(group);

        var ArrowRect = fabric.util.createClass(fabric.Rect, {

          type: 'ArrowRect',

          initialize: function(options) {
            options || (options = {});
            this.callSuper('initialize', options);
            //this.set('oArrow', options.oArrow || {});
          },

          toObject: function() {
            return fabric.util.object.extend(this.callSuper('toObject'), {
              oArrow: this.get('oArrow')
            });
          },
          _render: function(ctx) {
            this.callSuper('_render', ctx);
            // var arrow=new fabric.Text(this.oArrow.text||"→",fabric.util.object.extend(this.oArrow,{fontSize: 60,fontWeight: 'bold',stroke: '#c3bfbf',strokeWidth: 3,top:85,left:145})); 
            //canvas.add(arrow);
            // ctx.font = '20px Helvetica';
            // ctx.fillStyle = '#333';
            // ctx.fillText(this.label, -this.width/2, -this.height/2 + 20);
          }
        });
        var arrowRect=new ArrowRect({left: 100,top: 100,
          strokeWidth: 5,
          width: 50,
          height: 50,
          fill: '#ff0',
          stroke: '#666'});
    </script>
</body>
</html>